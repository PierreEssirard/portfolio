<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pierre Essirard - Ingénieur</title>
    
    <!-- Polices -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Mono&display=swap" rel="stylesheet">
    
    <!-- STYLES SÉPARÉS (L'ordre est important) -->
    <link rel="stylesheet" href="css/base.css">       <!-- Variables & Reset -->
    <link rel="stylesheet" href="css/layout.css">     <!-- Structure, Nav, Hero, Footer -->
    <link rel="stylesheet" href="css/components.css"> <!-- Boutons, Cartes, Modales, Loader -->
    <link rel="stylesheet" href="css/responsive.css"> <!-- Règles Mobile -->

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>

    <!-- 1. LOADER GLOBAL AVEC PROGRESSION & AVION -->
    <div id="global-loader">
        <div class="loader-content">
            <!-- Zone de la barre -->
            <div class="progress-wrapper">
                <div class="progress-track"></div>
                <div class="progress-bar" id="progress-bar"></div>
                <!-- Icône Avion qui suivra la barre -->
                <div class="progress-plane" id="progress-plane">
                    <!-- SVG simple d'un avion de chasse vu de dessus -->
                    <svg viewBox="0 0 24 24" fill="currentColor" width="24px" height="24px">
                        <path d="M21,16V14L13,9V3.5A1.5,1.5 0 0,0 11.5,2A1.5,1.5 0 0,0 10,3.5V9L2,14V16L10,13.5V19L8,20.5V22L11.5,21L15,22V20.5L13,19V13.5L21,16Z"/>
                    </svg>
                </div>
            </div>
            
            <p id="loading-text">Chargement... 0%</p>
        </div>
    </div>

    <nav>
        <div class="container">
            <div class="logo">EP</div>
            <ul>
                <li><a href="#hero">Accueil</a></li>
                <li><a href="#portfolio">Projets</a></li>
                <li><a href="#experience">Parcours</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </div>
    </nav>

    <section id="hero">
        <div id="canvas-container"></div>

        <div class="hero-content">
            <span class="tag">Apprenti Ingénieur – ESIEE Paris</span>
            <h1>Essirard Pierre</h1>
            <p>Filière en systèmes embarqués.</p>
            <div class="cta-buttons">
                <a href="#portfolio" class="btn">Découvrir mes projets ↓</a>
                <a href="#contact" class="btn btn-secondary">Me contacter</a>
            </div>
        </div>

        <div class="scroll-indicator">
            <span class="scroll-text">Défiler vers le bas</span>
            <div class="scroll-arrow">↓</div>
        </div>
    </section>

    <!-- SECTION PORTFOLIO -->
    <section id="portfolio">
        <h2 class="section-title">Mes Projets</h2>
        
        <div id="project-counter-badge" class="project-counter-badge">
            <!-- Le texte sera injecté par JS -->
        </div>

        <!-- INSTRUCTION (SANS EMOJI) -->
        <div class="instruction-wrapper">
            <div class="instruction-badge">
                <span class="instruction-text">Survolez pour Zoomer • Cliquez pour Explorer</span>
            </div>
        </div>

        <!-- Conteneur Scène 3D -->
        <div class="carousel-scene">
            <div class="carousel-track" id="projects-container">
                <!-- Les cartes seront injectées ici par JS -->
            </div>
        </div>

        <!-- Contrôles de navigation -->
        <div class="carousel-controls">
            <button id="prev-btn" class="nav-btn" aria-label="Projet précédent">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
            </button>
            <button id="next-btn" class="nav-btn" aria-label="Projet suivant">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </button>
        </div>
    </section>

    <section id="experience">
        <h2 class="section-title">Expérience Pro</h2>
        
        <div class="timeline-container">
            
            <div class="timeline-item">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                    <div class="timeline-date">Sept. 2024 - Présent</div>
                    <h3 class="timeline-title">Apprenti Ingénieur - Systèmes Embarqués</h3>
                    <div class="timeline-company">Safran Electronics & Defense</div>
                    <p class="timeline-desc">
                        Alternance au sein d'un leader mondial de l'aéronautique et de la défense.
                        <br><br>
                        <strong>Mission : Automatisation et Validation Logicielle.</strong><br>
                        Développement et maintenance de scripts d'automatisation en <strong>AutoIt</strong> pour la validation de logiciels embarqués critiques.
                        Optimisation des processus de tests et intégration continue (CI/CD) pour garantir la robustesse des systèmes.
                    </p>
                    <div class="tech-tags">
                        <span>AutoIt</span>
                        <span>Safran</span>
                        <span>Aéronautique</span>
                        <span>Test Automation</span>
                        <span>CI/CD</span>
                    </div>
                </div>
            </div>

            <div class="timeline-item">
                <div class="timeline-marker"></div>
                <div class="timeline-content">
                    <div class="timeline-date">Avril 2024 - Juin 2024</div>
                    <h3 class="timeline-title">Stage Technicien - DUT GEII</h3>
                    <div class="timeline-company">Safran Electronics & Defense</div>
                    <p class="timeline-desc">
                        <strong>Conception d'un banc de test HIL (Hardware In the Loop) pour drone.</strong><br>
                        Stage de fin de DUT (IUT de Cachan) réalisé au sein de Safran.
                        Développement d'une solution de simulation temps réel permettant de tester le contrôleur de vol sans risque matériel.
                        Interface et modélisation sous <strong>Matlab/Simulink</strong>.
                    </p>
                    <div class="tech-tags">
                        <span>Matlab</span>
                        <span>Safran</span>
                        <span>HIL</span>
                        <span>Drone</span>
                        <span>Électronique</span>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <footer id="contact">
        <h2>Mes contacts</h2>
        <div class="contact-grid">
            <div class="contact-item">
                <label>Email (Cliquez pour envoyer)</label>
                <a href="mailto:pierre.essirard@edu.esiee.fr">pierre.essirard@edu.esiee.fr</a>
            </div>
            <div class="contact-item">
                <label>Téléphone (Cliquez pour appeler)</label>
                <a href="tel:+33782716315">+33 7 82 71 63 15</a>
            </div>
        </div>
        <div class="socials">
            <a href="https://www.linkedin.com/in/pierre-essirard-900520162/" target="_blank">LinkedIn ↗</a>
            <a href="#">GitHub ↗</a>
        </div>
        <p class="copyright">© 2024 – Pierre Essirard</p>
    </footer>

    <!-- MODALE UNIFIÉE AVEC NOUVEAUX CONTRÔLES -->
    <div id="map-modal" class="modal">
        <div class="modal-content">
            
            <!-- GROUPE DE CONTRÔLES (RETOUR ET CROIX) -->
            <div class="modal-controls-group">
                <button id="btn-back-floating" class="control-btn back-btn" style="display: none;">← Retour</button>
                <div class="close-modal control-btn">✕</div>
            </div>
            
            <div id="modal-loader" class="modal-loader">
                <div class="spinner-small"></div>
                <span>Chargement...</span>
            </div>

            <!-- VUE 1 : DÉTAILS TEXTE -->
            <div id="modal-details-view" class="modal-view" style="display: none;">
                <!-- Le contenu sera injecté par JS -->
            </div>

            <!-- VUE 2 : MÉDIA / INTERACTIF -->
            <div id="modal-media-view" class="modal-view" style="display: none;">
                <div class="modal-header">
                    <h2 id="modal-media-title">Visualisation Interactive</h2>
                    
                    <p class="modal-instruction">Cliquez sur les boutons ci-dessous pour changer de graphique :</p>
                    
                    <div class="map-controls">
                        <button onclick="changeMap('maps/carte_US_par_etat.html')">États</button>
                        <button onclick="changeMap('maps/carte_US_par_région.html')">Comtés</button>
                        <button onclick="changeMap('maps/graphe_sunburst.html')">Sunburst</button>
                        <button onclick="changeMap('maps/graphe_grandes_villes.html')">Grandes Villes</button>
                        <button onclick="changeMap('maps/graphe_petites_villes.html')">Petites Villes</button>
                        <button onclick="changeMap('maps/graphe_lieu_de_vote.html')">Lieux de Vote</button>
                    </div>
                </div>
                <iframe id="map-frame" src="" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <script src="js/project.js"></script>
    <script src="js/script.js"></script>
    <script type="module" src="js/rafale.js"></script>
</body>
</html>